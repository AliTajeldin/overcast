<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Overcast</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
  
<div id="octocat">
  <a href="https://github.com/andrewchilds/overcast" target="_blank"><img src="http://i.imgur.com/xeEsyoG.png" alt="" /></a>
</div>

    <div class="wrapper">
      <header>
        <h1>Overcast</h1>
        <p>A simple, SSH-based cloud management CLI.</p>

        <p class="view"><a href="https://github.com/andrewchilds/overcast">View the Project on GitHub <small>andrewchilds/overcast</small></a></p>

        <ul>
          <li><a href="https://github.com/andrewchilds/overcast/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/andrewchilds/overcast/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/andrewchilds/overcast">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>

<h1 id="logo">
<a href="https://github.com/andrewchilds/overcast"><img src="http://i.imgur.com/eCBl2NI.png" alt="Overcast Logo" /></a>
</h1>

<!-- Start README -->

<p>Overcast is a simple command line program designed to make it easy to spin up, configure and manage clusters of machines, without the learning curve or complexity of existing server management tools.</p>

<p><a href="https://camo.githubusercontent.com/f6b14371011f49989e8aee84654c6036e065b6e4/687474703a2f2f692e696d6775722e636f6d2f357831674b56432e706e67" target="_blank"><img src="https://camo.githubusercontent.com/f6b14371011f49989e8aee84654c6036e065b6e4/687474703a2f2f692e696d6775722e636f6d2f357831674b56432e706e67" alt="Screenshot" data-canonical-src="http://i.imgur.com/5x1gKVC.png" style="max-width:100%;"></a></p>

<h2>
<a id="user-content-concepts" class="anchor" href="#concepts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Concepts</h2>

<ul class="task-list">
<li>
<strong>Instances</strong> are any machine you can SSH into.</li>
<li>
<strong>Clusters</strong> are sets of instances.</li>
</ul>

<h2>
<a id="user-content-features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<p>Create, reboot and destroy instances across DigitalOcean, Linode and Amazon, or locally using Vagrant + Virtualbox:</p>

<div class="highlight highlight-sh"><pre><span class="pl-c"># Spin up a new Ubuntu 14.04 instance on DigitalOcean:</span>
$ overcast digitalocean create db-01

<span class="pl-c"># Spin up a new Ubuntu 14.04 instance on Linode:</span>
$ overcast linode create db-02

<span class="pl-c"># Spin up a new Ubuntu 14.04 instance on EC2:</span>
$ overcast aws create db-03 --user ubuntu
$ overcast run db-03 allow_root_access_on_ec2
$ overcast instance update db-03 --user root

<span class="pl-c"># Spin up a new locally-running Ubuntu 14.04 Virtualbox instance:</span>
$ overcast virtualbox create db-04

<span class="pl-c"># Upgrade and install Redis across all of those instances in parallel:</span>
$ overcast run db-<span class="pl-k">*</span> install/core install/redis --parallel</pre></div>

<p>Import your already-running machines, wherever they are, using <code>overcast import</code> or by editing <a href="https://github.com/andrewchilds/overcast/tree/master/fixtures/example.clusters.json"><code>~/.overcast/clusters.json</code></a>:</p>

<div class="highlight highlight-sh"><pre>$ overcast import app-01 --ip 1.1.1.1 --ssh-key <span class="pl-k">~</span>/.ssh/id_rsa
$ overcast import app-02 --ip 2.2.2.2 --ssh-key <span class="pl-k">~</span>/.ssh/id_rsa</pre></div>

<p>Run multiple commands or multiple scripts on any or all of your instances at once, over SSH. Commands can be run sequentially or in parallel using the <code>--parallel</code> flag.</p>

<div class="highlight highlight-sh"><pre><span class="pl-c"># Run bundled scripts:</span>
$ overcast run db install/core install/apache install/mysql install/php
<span class="pl-c"># Run scripts relative to the current working directory or using absolute path:</span>
$ overcast run app-cluster ./recipes/my-app/install /path/to/script
<span class="pl-c"># Run sequences of commands and scripts across multiple machines in parallel:</span>
$ overcast run db ./script.sh uptime <span class="pl-s1"><span class="pl-pds">"</span>free -m<span class="pl-pds">"</span></span> <span class="pl-s1"><span class="pl-pds">"</span>df -h<span class="pl-pds">"</span></span> --parallel</pre></div>

<p>Quickly SSH in to any instance by name.</p>

<div class="highlight highlight-sh"><pre>$ overcast ssh app-01</pre></div>

<p>Push and pull files between your local machine and any or all of your instances at once. Dynamically rewrite file paths to include the instance name using <code>{instance}</code> in either source or destination.</p>

<div class="highlight highlight-sh"><pre>$ overcast push app nginx/myapp.conf /etc/nginx/sites-enabled/myapp.conf
$ overcast pull all /etc/nginx/sites-enabled/myapp.conf nginx/{instance}.myapp.conf</pre></div>

<p>Overcast is a thin wrapper around your native SSH client, and doesn't install or leave anything on the servers you communicate with, so Overcast itself has no real attack surface.</p>

<p>A <a href="https://github.com/andrewchilds/overcast/tree/master/scripts">script library</a> and <a href="https://github.com/andrewchilds/overcast/tree/master/recipes">recipe library</a> are included to make it trivial to deploy common software stacks and applications. The libraries were written for and tested against Ubuntu/Debian systems, but you can just as easily run your own custom scripts as well:</p>

<div class="highlight highlight-sh"><pre>$ overcast run all /absolute/path/to/script ./relative/path/to/other/script</pre></div>

<h2>
<a id="user-content-installation-os-xlinux" class="anchor" href="#installation-os-xlinux" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation (OS X/Linux)</h2>

<ol class="task-list">
<li><p>Install <a href="https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager">Node.js</a> if not already installed.</p></li>
<li>
<p>Install Overcast using npm.</p>

<div class="highlight highlight-sh"><pre>$ npm -g install overcast</pre></div>
</li>
<li>
<p>You can now use Overcast from any directory. Running any overcast command from anywhere will create the <code>~/.overcast</code> config directory if it doesn't already exist. Add your API keys to <code>~/.overcast/variables.json</code> to use their respective commands, either manually or using the <code>var</code> command:</p>

<div class="highlight highlight-sh"><pre>$ overcast var <span class="pl-s3">set</span> AWS_KEY my_aws_key
$ overcast var <span class="pl-s3">set</span> AWS_SECRET my_aws_secret
$ overcast var <span class="pl-s3">set</span> DIGITALOCEAN_CLIENT_ID abc123
$ overcast var <span class="pl-s3">set</span> DIGITALOCEAN_API_KEY abc123
$ overcast var <span class="pl-s3">set</span> LINODE_API_KEY abc123</pre></div>
</li>
<li>
<p>To make working with Overcast easier, you can add tab completion and SSH aliases to quickly SSH in to any of your instances, by adding the following to your <code>.bash_profile</code>:</p>

<div class="highlight highlight-sh"><pre><span class="pl-c"># Overcast SSH aliases</span>
overcast aliases <span class="pl-k">&gt;</span> <span class="pl-vo">$HOME</span>/.overcast_aliases
<span class="pl-s3">source</span> <span class="pl-vo">$HOME</span>/.overcast_aliases

<span class="pl-c"># Overcast Tab completion</span>
<span class="pl-en">_overcast_completions</span>() {
  <span class="pl-s">local</span> cur=<span class="pl-vo">${COMP_WORDS[COMP_CWORD]}</span>
  COMPREPLY=(<span class="pl-s1"><span class="pl-pds">$(</span><span class="pl-s3">compgen</span> -W <span class="pl-s1"><span class="pl-pds">"</span><span class="pl-s1"><span class="pl-pds">`</span>overcast completions<span class="pl-pds">`</span></span><span class="pl-pds">"</span></span> -- <span class="pl-s1"><span class="pl-pds">"</span><span class="pl-vo">$cur</span><span class="pl-pds">"</span></span><span class="pl-pds">)</span></span>)
  <span class="pl-k">return</span> 0
}
<span class="pl-s3">complete</span> -F _overcast_completions overcast</pre></div>
</li>
</ol>

<h2>
<a id="user-content-installation-windows" class="anchor" href="#installation-windows" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation (Windows)</h2>

<p>Using Overcast on Windows is possible, but <strong>unsupported</strong>. Instructions TBD.</p>

<h2>
<a id="user-content-uninstallation" class="anchor" href="#uninstallation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Uninstallation</h2>

<p>Since Overcast is just a wrapper around SSH, there is nothing on your remote machines to uninstall. To uninstall Overcast from your local machine:</p>

<div class="highlight highlight-sh"><pre><span class="pl-c"># To remove the Overcast package:</span>
$ npm -g remove overcast
<span class="pl-c"># Optionally delete your Overcast SSH keys and configuration files:</span>
$ rm -rf <span class="pl-k">~</span>/.overcast</pre></div>

<h2>
<a id="user-content-configuration" class="anchor" href="#configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuration</h2>

<p>Overcast looks for an <code>.overcast</code> directory in the current directory, a parent directory, or <code>~/.overcast</code>, in that order. This means you can have multiple configurations and treat your server infrastructure like source code.</p>

<p>The command <code>overcast init</code> will create a new configuration in the current directory. The config directory looks like this:</p>

<div class="highlight highlight-sh"><pre>/.overcast
  /files            <span class="pl-c"># Files to be pushed to / pulled from instances</span>
  /keys             <span class="pl-c"># SSH keys, can be your own or auto-generated by overcast</span>
    overcast.key
    overcast.key.pub
  /scripts          <span class="pl-c"># Scripts to be run on instances</span>
  clusters.json     <span class="pl-c"># Cluster/instance definitions (see example.clusters.json)</span>
  variables.json    <span class="pl-c"># API keys, etc (see example.variables.json)</span></pre></div>

<h2>
<a id="user-content-design-goals--motivation" class="anchor" href="#design-goals--motivation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Design Goals &amp; Motivation</h2>

<p>There are many server management frameworks out there already, but they generally involve a complex server-client implementation, a steep learning curve, or a giant, monolithic conceptual framework that requires taking a course to understand.</p>

<p>I wanted something that had little to no learning curve, that did only what you asked it to do on the remote machines and nothing more, that just focused on multi-server provisioning and communication and leaves problems like process/state management and system monitoring to tools designed specifically for those problems.</p>

<h2>
<a id="user-content-example-app-deployment-recipes" class="anchor" href="#example-app-deployment-recipes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example App Deployment Recipes</h2>

<ul class="task-list">
<li><a href="https://github.com/andrewchilds/overcast/blob/master/recipes/discourse">Discourse</a></li>
<li><a href="https://github.com/andrewchilds/overcast/blob/master/recipes/lamp-server">Ubuntu 14.04 LAMP server</a></li>
<li><a href="https://github.com/andrewchilds/overcast-charts">Overcast Charts</a></li>
</ul>

<h2>
<a id="user-content-command-reference" class="anchor" href="#command-reference" aria-hidden="true"><span class="octicon octicon-link"></span></a>Command Reference</h2>

<h3>
<a id="user-content-overcast-aliases" class="anchor" href="#overcast-aliases" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast aliases</h3>

<pre><code>Usage:
  overcast aliases

Description:
  Return a list of bash aliases for SSHing to your instances.

  To use, add this to your .bash_profile:
    test -f $HOME/.overcast_aliases &amp;&amp; source $HOME/.overcast_aliases

  And then create the .overcast_aliases file:
    overcast aliases &gt; $HOME/.overcast_aliases

  Or to automatically refresh aliases in every new terminal window
  (which will add a couple hundred milliseconds to your startup time),
  add this to your .bash_profile:
    overcast aliases &gt; $HOME/.overcast_aliases
    source $HOME/.overcast_aliases
</code></pre>

<h3>
<a id="user-content-overcast-aws" class="anchor" href="#overcast-aws" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast aws</h3>

<pre><code>  These commands require the following values set in .overcast/variables.json:
    AWS_KEY
    AWS_SECRET

  overcast aws create [name] [options...]
    Creates a new EC2 instance.

      Option                   | Default
      --cluster CLUSTER        | default
      --ami NAME               | ami-018c9568 (Ubuntu 14.04 LTS, 64bit, EBS)
      --size NAME              | t1.micro
      --monitoring BOOLEAN     | false
      --user NAME              | root
      --ssh-key KEY_PATH       | overcast.key
      --ssh-pub-key KEY_PATH   | overcast.key.pub

    Example:
    $ overcast aws create db.01 --cluster db --size m1.small --user ubuntu

  overcast aws destroy [name]
    Destroys an EC2 instance.

      Option                   | Default
      --force                  | false

    Example:
    $ overcast aws destroy db.01

  overcast aws reboot [name]
    Reboots an EC2 instance.

    Example:
    $ overcast aws reboot db.01

  overcast aws start [name]
    Starts an EC2 instance.

    Example:
    $ overcast aws start db.01

  overcast aws stop [name]
    Stop an EC2 instance.

    Example:
    $ overcast aws stop db.01
</code></pre>

<h3>
<a id="user-content-overcast-cluster-count" class="anchor" href="#overcast-cluster-count" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast cluster count</h3>

<pre><code>Usage:
  overcast cluster count [name]

Description:
  Return the number of instances in a cluster.

Examples:
  $ overcast cluster count db
  &gt; 0
  $ overcast instance create db.01 --cluster db
  &gt; ...
  $ overcast cluster count db
  &gt; 1
</code></pre>

<h3>
<a id="user-content-overcast-cluster-create" class="anchor" href="#overcast-cluster-create" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast cluster create</h3>

<pre><code>Usage:
  overcast cluster create [name]

Description:
  Creates a new cluster.

Examples:
  $ overcast cluster create db
</code></pre>

<h3>
<a id="user-content-overcast-cluster-rename" class="anchor" href="#overcast-cluster-rename" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast cluster rename</h3>

<pre><code>Usage:
  overcast cluster rename [name] [new-name]

Description:
  Renames a cluster.

Examples:
  $ overcast cluster rename app-cluster app-cluster-renamed
</code></pre>

<h3>
<a id="user-content-overcast-cluster-remove" class="anchor" href="#overcast-cluster-remove" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast cluster remove</h3>

<pre><code>Usage:
  overcast cluster remove [name]

Description:
  Removes a cluster from the index. If the cluster has any instances
  attached to it, they will be moved to the "orphaned" cluster.

Examples:
  $ overcast cluster remove db
</code></pre>

<h3>
<a id="user-content-overcast-completions" class="anchor" href="#overcast-completions" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast completions</h3>

<pre><code>Usage:
  overcast completions

Description:
  Return an array of commands, cluster names, and instance names for use
  in bash tab completion.

  To enable tab completion in bash, add this to your .bash_profile:

  _overcast_completions() {
    local cur=${COMP_WORDS[COMP_CWORD]}
    COMPREPLY=($(compgen -W "`overcast completions`" -- "$cur"))
    return 0
  }
  complete -F _overcast_completions overcast
</code></pre>

<h3>
<a id="user-content-overcast-destroy" class="anchor" href="#overcast-destroy" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast destroy</h3>

<pre><code>  overcast destroy [instance]
    Destroy an instance using the provider API.

      Option      | Default
      --force     | false

    Example:
    $ overcast destroy app-01
</code></pre>

<h3>
<a id="user-content-overcast-digitalocean" class="anchor" href="#overcast-digitalocean" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast digitalocean</h3>

<pre><code>  These functions require the following values set in .overcast/variables.json:
    DIGITALOCEAN_CLIENT_ID
    DIGITALOCEAN_API_KEY

  overcast digitalocean create [name] [options]
    Creates a new instance on DigitalOcean.

    The instance will start out using the auto-generated SSH key found here:
    /path/to/.overcast/keys/overcast.key.pub

    You can specify region, image, and size of the droplet using -id or -slug.
    You can also specify an image or snapshot using --image-name.

      Option                  | Default
      --cluster CLUSTER       | default
      --ssh-port PORT         | 22
      --ssh-key KEY_PATH      | overcast.key
      --ssh-pub-key KEY_PATH  | overcast.key.pub
      --region-slug NAME      | nyc2
      --region-id ID          |
      --image-slug NAME       | ubuntu-14-04-x64
      --image-id ID           |
      --image-name NAME       |
      --size-slug NAME        | 512mb
      --size-id ID            |
      --backups-enabled       | false
      --private-networking    | false

    Example:
    $ overcast digitalocean create db.01 --size-slug 2gb --region-slug sfo1

  overcast digitalocean destroy [name]
    Destroys a DigitalOcean droplet and removes it from your account.
    Using --force overrides the confirm dialog. This is irreversible.

      Option                  | Default
      --force                 | false

  overcast digitalocean droplets
    List all DigitalOcean droplets in your account.

  overcast digitalocean images
    List all available DigitalOcean images. Includes snapshots.

  overcast digitalocean poweron [name]
    Power on a powered off droplet.

  overcast digitalocean reboot [name]
    Reboots a DigitalOcean droplet. According to the API docs, "this is the
    preferred method to use if a server is not responding."

  overcast digitalocean rebuild [name] [options]
    Rebuild a DigitalOcean droplet using a specified image name, slug or ID.
    According to the API docs, "This is useful if you want to start again but
    retain the same IP address for your droplet."

      Option                  | Default
      --image-slug SLUG       | ubuntu-12-04-x64
      --image-name NAME       |
      --image-id ID           |

    Example:
    $ overcast digitalocean rebuild app.01 --name my.app.snapshot

  overcast digitalocean regions
    List available DigitalOcean regions (nyc2, sfo1, etc).

  overcast digitalocean resize [name] [options]
    Shutdown, resize, and reboot a DigitalOcean droplet.
    If --skipBoot flag is used, the droplet will stay in a powered-off state.

      Option                  | Default
      --size-slug NAME        |
      --size-id ID            |
      --skipBoot              | false

    Example:
    $ overcast digitalocean resize db.01 --size-slug 2gb

  overcast digitalocean sizes
    List available DigitalOcean sizes (512mb, 1gb, etc).

  overcast digitalocean shutdown [name]
    Shut down a DigitalOcean droplet.

  overcast digitalocean snapshot [name] [snapshot-name]
    Creates a named snapshot of a droplet. This will reboot the instance.

    Example:
    $ overcast digitalocean snapshot db.01 db.01.snapshot

  overcast digitalocean snapshots
    Lists available snapshots in your DigitalOcean account.
</code></pre>

<h3>
<a id="user-content-overcast-expose" class="anchor" href="#overcast-expose" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast expose</h3>

<pre><code>Usage:
  overcast expose [instance|cluster|all] [port...] [options]

Description:
  Reset the exposed ports on the instance or cluster using iptables.
  This will fail if you don't include the current SSH port.
  Specifying --whitelist will restrict all ports to the specified address(es).
  These can be individual IPs or CIDR ranges, such as "192.168.0.0/24".

  Expects an Ubuntu server, untested on other distributions.

Options:
  --user NAME
  --whitelist "IP|RANGE"
  --whitelist-PORT "IP|RANGE"

Examples:
  Allow SSH, HTTP and HTTPS connections from anywhere:
  $ overcast expose app 22 80 443

  Allow SSH from anywhere, only allow Redis connections from 1.2.3.4:
  $ overcast expose redis 22 6379 --whitelist-6379 "1.2.3.4"

  Only allow SSH and MySQL connections from 1.2.3.4 or from 5.6.7.xxx:
  $ overcast expose mysql 22 3306 --whitelist "1.2.3.4 5.6.7.0/24"
</code></pre>

<h3>
<a id="user-content-overcast-exposed" class="anchor" href="#overcast-exposed" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast exposed</h3>

<pre><code>Usage:
  overcast exposed [instance|cluster|all]

Description:
  List the exposed ports on the instance or cluster.
  Expects an Ubuntu server, untested on other distributions.

Options:
  --user NAME
  --machine-readable, --mr
</code></pre>

<h3>
<a id="user-content-overcast-health" class="anchor" href="#overcast-health" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast health</h3>

<pre><code>Usage:
  overcast health [instance|cluster|all]

Description:
  Outputs common health statistics in JSON format.
  Expects an Ubuntu or Debian server.

Examples:
  Example JSON response:
  {
    "my_instance_name": {
      "cpu_1min": 0.53,
      "cpu_5min": 0.05,
      "cpu_15min": 0.10,
      "disk_total": 19592,     // in MB
      "disk_used": 13445,      // in MB
      "disk_free": 5339,       // in MB
      "mem_total": 1000,       // in MB
      "mem_used": 904,         // in MB
      "mem_free": 96,          // in MB
      "cache_used": 589,       // in MB
      "cache_free": 410,       // in MB
      "swap_total": 255,       // in MB
      "swap_used": 124,        // in MB
      "swap_free": 131,        // in MB
      "tcp": 152,              // open TCP connections
      "rx_bytes": 196396703,   // total bytes received
      "tx_bytes": 47183785,    // total bytes transmitted
      "io_reads": 1871210,     // total bytes read
      "io_writes": 6446448,    // total bytes written
      "processes": [
        {
          "user": "root",
          "pid": 1,
          "cpu%": 0,
          "mem%": 0,
          "time": "0:01",
          "command": "/sbin/init"
        }
      ]
    }
  }
</code></pre>

<h3>
<a id="user-content-overcast-help" class="anchor" href="#overcast-help" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast help</h3>

<pre><code>  Overcast v0.6.2

  Source code, issues, pull requests:
    https://github.com/andrewchilds/overcast

  Usage:
    overcast [command] [options...]

  Help:
    overcast help
    overcast help [command]
    overcast [command] help

  Commands:
    aliases aws cluster completions destroy digitalocean expose exposed
    health import info init instance key linode list ping port pull push
    reboot remove run scriptvar slack ssh tunnel var virtualbox wait

  Config directory:
    /path/to/.overcast
</code></pre>

<h3>
<a id="user-content-overcast-import" class="anchor" href="#overcast-import" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast import</h3>

<pre><code>Usage:
  overcast import [name] [ip] [options...]

Description:
  Imports an existing instance to a cluster.

Options:               Defaults:
  --cluster CLUSTER    default
  --ssh-port PORT      22
  --ssh-key PATH       overcast.key
  --user USERNAME      root
</code></pre>

<h3>
<a id="user-content-overcast-info" class="anchor" href="#overcast-info" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast info</h3>

<pre><code>Usage:
  overcast info
  overcast info [name]

Description:
  Pretty-prints the complete clusters.json file, stored here:
  /path/to/.overcast/clusters.json
  Optionally display only instances matching [name].
</code></pre>

<h3>
<a id="user-content-overcast-init" class="anchor" href="#overcast-init" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast init</h3>

<pre><code>Usage:
  overcast init

Description:
  Create an .overcast config directory in the current working directory.
  No action taken if one already exists.
</code></pre>

<h3>
<a id="user-content-overcast-instance-get" class="anchor" href="#overcast-instance-get" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast instance get</h3>

<pre><code>Usage:
  overcast instance get [instance|cluster|all] [attr...]

Description:
  Returns the attribute(s) for the instance or cluster, one per line.

Examples:
  $ overcast instance get app-01 ssh-port
  22

  $ overcast instance get app-cluster ip
  127.0.0.1
  127.0.0.2
  127.0.0.3
</code></pre>

<h3>
<a id="user-content-overcast-instance-import" class="anchor" href="#overcast-instance-import" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast instance import</h3>

<pre><code>Usage:
  overcast instance import [name] [ip] [options...]

Description:
  Imports an existing instance to a cluster.

Options:               Defaults:
  --cluster CLUSTER    default
  --ssh-port PORT      22
  --ssh-key PATH       overcast.key
  --user USERNAME      root

Examples:
  $ overcast instance import app.01 127.0.0.1 --cluster app \
      --ssh-port 22222 --ssh-key $HOME/.ssh/id_rsa
</code></pre>

<h3>
<a id="user-content-overcast-instance-list" class="anchor" href="#overcast-instance-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast instance list</h3>

<pre><code>Usage:
  overcast instance list [cluster...]

Description:
  Returns all instance names, one per line.
  Optionally limit to one or more clusters.

Examples:
  $ overcast instance list
  $ overcast instance list app-cluster db-cluster
</code></pre>

<h3>
<a id="user-content-overcast-instance-remove" class="anchor" href="#overcast-instance-remove" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast instance remove</h3>

<pre><code>Usage:
  overcast instance remove [name]

Description:
  Removes an instance from the index.
  The server itself is not affected by this action.

Examples:
  $ overcast instance remove app-01
</code></pre>

<h3>
<a id="user-content-overcast-instance-update" class="anchor" href="#overcast-instance-update" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast instance update</h3>

<pre><code>Usage:
  overcast instance update [name] [options...]

Description:
  Update any instance property. Specifying --cluster will move the instance
  to that cluster. Specifying --name will rename the instance.

Options:
  --name NAME
  --cluster CLUSTER
  --ip IP
  --ssh-port PORT
  --ssh-key PATH
  --user USERNAME

Examples:
  $ overcast instance update app.01 --user myuser --ssh-key /path/to/key
</code></pre>

<h3>
<a id="user-content-overcast-key-create" class="anchor" href="#overcast-key-create" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast key create</h3>

<pre><code>Usage:
  overcast key create [name]

Description:
  Creates a new SSH key in the current .overcast config.

Examples:
  $ overcast key create myKeyName
  New SSH key "myKeyName" created.
   - /path/to/.overcast/keys/myKeyName.key
   - /path/to/.overcast/keys/myKeyName.key.pub
</code></pre>

<h3>
<a id="user-content-overcast-key-delete" class="anchor" href="#overcast-key-delete" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast key delete</h3>

<pre><code>Usage:
  overcast key delete [name]

Description:
  Deletes SSH public/private key files from the current .overcast config.

Examples:
  $ overcast key delete myKeyName
  SSH key "myKeyName" deleted.
</code></pre>

<h3>
<a id="user-content-overcast-key-get" class="anchor" href="#overcast-key-get" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast key get</h3>

<pre><code>Usage:
  overcast key get [name] [option]

Description:
  Display the requested SSH key data or path from the current .overcast config.
  Defaults to displaying the public key data if no option found.

Options:
  --public-data
  --private-data
  --public-path
  --private-path

Examples:
  $ overcast key get myKeyName
  [public key data]
  $ overcast key get myKeyName --private-data
  [private key data]
</code></pre>

<h3>
<a id="user-content-overcast-key-list" class="anchor" href="#overcast-key-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast key list</h3>

<pre><code>Usage:
  overcast key list

Description:
  List the found SSH key names in the current .overcast config.

Examples:
  $ overcast key list
  myKeyName
  overcast
</code></pre>

<h3>
<a id="user-content-overcast-linode" class="anchor" href="#overcast-linode" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast linode</h3>

<pre><code>  These functions require the LINODE_API_KEY variable to be set.
  Your API keys can be found at https://manager.linode.com/profile/api

  overcast linode boot [name]
    Boot a powered off linode.

  overcast linode create [name] [options]
    Creates a new Linode.

      Option                    | Default
      --cluster CLUSTER         | default
      --datacenter-slug NAME    | newark
      --datacenter-id ID        |
      --distribution-slug NAME  | ubuntu-14-04-lts
      --distribution-id ID      |
      --kernel-id ID            |
      --kernel-name NAME        | Latest 64 bit
      --payment-term ID         | 1 (monthly, if not metered)
      --plan-id ID              |
      --plan-slug NAME          | 2048
      --password PASSWORD       | autogenerated
      --ssh-key KEY_PATH        | overcast.key
      --ssh-pub-key KEY_PATH    | overcast.key.pub

    Example:
    $ overcast linode create db.01 --cluster db --datacenter-slug london

  overcast linode datacenters
    List available Linode datacenters.

  overcast linode destroy [name]
    Destroys a linode and removes it from your account.
    Using --force overrides the confirm dialog. This is irreversible.

      Option                    | Default
      --force                   | false

  overcast linode distributions
    List available Linode distributions.

  overcast linode kernels
    List available Linode kernels.

  overcast linode linodes
    List all linodes in your account.

  overcast linode plans
    List available Linode plans.

  overcast linode reboot [name]
    Reboots a linode.

  overcast linode resize [name] [options]
    Resizes a linode to the specified plan.
    This will immediately shutdown and migrate your linode.

      Option                    | Default
      --plan-id ID              |
      --plan-slug NAME          |

  overcast linode shutdown [name]
    Shut down a linode.
</code></pre>

<h3>
<a id="user-content-overcast-list" class="anchor" href="#overcast-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast list</h3>

<pre><code>Usage:
  overcast list

Description:
  List your cluster and instance definitions.
</code></pre>

<h3>
<a id="user-content-overcast-ping" class="anchor" href="#overcast-ping" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast ping</h3>

<pre><code>Usage:
  overcast ping [instance|cluster|all] [options]

Description:
  Display the average ping time for an instance or cluster.

Options:             Defaults:
  --count N, -c N    3

Examples:
  $ overcast ping app-01
  $ overcast ping db --count 5
</code></pre>

<h3>
<a id="user-content-overcast-port" class="anchor" href="#overcast-port" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast port</h3>

<pre><code>Usage:
  overcast port [instance|cluster|all] [port]

Description:
  Change the SSH port for an instance or a cluster.
  This command will fail if the new port is not opened by iptables.

Examples:
  $ overcast port app-01 22222
  $ overcast port db 22222
</code></pre>

<h3>
<a id="user-content-overcast-pull" class="anchor" href="#overcast-pull" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast pull</h3>

<pre><code>Usage:
  overcast pull [instance|cluster|all] [source] [dest] [options...]

Description:
  Pull a file or directory from an instance or cluster using scp by default,
  or using rsync if the --rsync flag is used. Source is absolute or relative
  to the home directory. Destination can be absolute or relative to the
  .overcast/files directory. Any reference to {instance} in the destination
  will be replaced with the instance name.

Options:         Defaults:
  --rsync        false
  --user NAME

Examples:
  Assuming instances "app.01" and "app.02", this will expand to:
    - .overcast/files/app.01.bashrc
    - .overcast/files/app.02.bashrc
  $ overcast pull app .bashrc {instance}.bashrc
</code></pre>

<h3>
<a id="user-content-overcast-push" class="anchor" href="#overcast-push" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast push</h3>

<pre><code>Usage:
  overcast push [instance|cluster|all] [source] [dest] [options...]

Description:
  Push a file or directory to an instance or cluster using scp by default,
  or rsync if the --rsync flag is used. Source can be absolute or relative
  to the .overcast/files directory. Destination can be absolute or relative
  to the home directory. Any reference to {instance} in the source will be
  replaced with the instance name.

Options:         Defaults:
  --rsync        false
  --user NAME

Examples:
  Assuming instances "app.01" and "app.02", this will expand to:
    - .overcast/files/app.01.bashrc
    - .overcast/files/app.02.bashrc
  $ overcast push app {instance}.bashrc .bashrc
</code></pre>

<h3>
<a id="user-content-overcast-reboot" class="anchor" href="#overcast-reboot" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast reboot</h3>

<pre><code>  overcast reboot [instance|cluster|all]
    Reboot an instance or cluster.

    If the instance was created using AWS, DigitalOcean or Linode,
    this will use the provider API. Otherwise this will execute the "reboot"
    command on the server and then wait until the server is responsive.
</code></pre>

<h3>
<a id="user-content-overcast-remove" class="anchor" href="#overcast-remove" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast remove</h3>

<pre><code>Usage:
  overcast remove [name]

Description:
  Removes an instance from the index.
  The server itself is not affected by this action.

Examples:
  $ overcast instance remove app-01
</code></pre>

<h3>
<a id="user-content-overcast-run" class="anchor" href="#overcast-run" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast run</h3>

<pre><code>Usage:
  overcast run [instance|cluster|all] [command|file...]

Description:
  Execute commands or script files on an instance or cluster over SSH.
  Commands will execute sequentially unless the --parallel flag is used.
  An error will stop execution unless the --continueOnError flag is used.
  Script files can be either absolute or relative path.

Options:                         Defaults:
  --env "KEY=VAL KEY='1 2 3'"
  --user NAME
  --ssh-key PATH
  --ssh-args ARGS
  --continueOnError              false
  --machine-readable, --mr       false
  --parallel, -p                 false
  --shell-command "COMMAND"      bash -s

Examples:
  # Run arbirary commands and files in sequence across all instances:
  $ overcast run all uptime "free -m" "df -h" /path/to/my/script

  # Setting environment variables:
  $ overcast run app --env "foo='bar bar' testing=123" env

  # Use machine-readable output (no server prefix):
  $ overcast run app-01 uptime --mr

  # Run bundled and custom scripts in sequence:
  $ overcast run db-* install/core install/redis ./my/install/script

  # Pass along arbitrary SSH arguments, for example to force a pseudo-tty:
  $ overcast run all /my/install/script --ssh-args "-tt"
</code></pre>

<h3>
<a id="user-content-overcast-scriptvar" class="anchor" href="#overcast-scriptvar" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast scriptvar</h3>

<pre><code>Usage:
  overcast scriptvar [instance|cluster|all] [filename] [key] [value]

Description:
  Set a named variable in a remote file on an instance or cluster.
  Expects a shell variable format, for example MY_VAR_NAME="my_value"

Options:                      Defaults:
  --user NAME
  --continueOnError           false
  --machine-readable, --mr    false
  --parallel, -p              false

Examples:
  $ overcast scriptvar app-01 /path/to/file.sh MY_API_TOKEN abc123
</code></pre>

<h3>
<a id="user-content-overcast-slack" class="anchor" href="#overcast-slack" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast slack</h3>

<pre><code>Usage:
  overcast slack [message] [options...]

Description:
  Sends a message to a Slack channel.
  Requires a SLACK_WEBHOOK_URL property to be set in variables.json.
  You can set that with the following command:
  overcast var set SLACK_WEBHOOK_URL https://foo.slack.com/blah

Options:                Defaults:
  --channel NAME        #alerts
  --icon-emoji EMOJI    :cloud:
  --icon-url URL
  --user NAME           Overcast
  --KEY VALUE

Examples:
  $ overcast slack "Deploy completed." --icon-emoji ":satelite:"
  $ overcast slack "Server stats" --channel "#general" --cpu "0.54 0.14 0.09"
</code></pre>

<h3>
<a id="user-content-overcast-ssh" class="anchor" href="#overcast-ssh" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast ssh</h3>

<pre><code>Usage:
  overcast ssh [instance] [options...]

Description:
  Opens an interactive SSH connection to an instance.

Options:
  --user NAME
  --ssh-key PATH
</code></pre>

<h3>
<a id="user-content-overcast-tunnel" class="anchor" href="#overcast-tunnel" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast tunnel</h3>

<pre><code>Usage:
  overcast tunnel [instance] [local-port((:hostname):remote-port)...]

Description:
  Opens an SSH tunnel to the port(s) specified.
  If only one port is specified, assume the same port for local/remote.
  If no remote host is specified, assume the remote host itself (127.0.0.1).
  Multiple tunnels can be opened over a single connection.

Options:
  --user NAME
  --ssh-key PATH

Examples:
  # Tunnel local 5984 to remote 5984
  $ overcast tunnel app-01 5984

  # Tunnel local 8000 to remote 5984, local 8001 to remote 3000
  $ overcast tunnel app-01 8000:5984 8001:3000

  # Tunnel local 3000 to otherhost.com:4000
  $ overcast tunnel app-01 3000:otherhost.com:4000
</code></pre>

<h3>
<a id="user-content-overcast-var-list" class="anchor" href="#overcast-var-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast var list</h3>

<pre><code>Usage:
  overcast var list

Description:
  List variables in /path/to/.overcast/variables.json.
</code></pre>

<h3>
<a id="user-content-overcast-var-set" class="anchor" href="#overcast-var-set" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast var set</h3>

<pre><code>Usage:
  overcast var set [name] [value]

Description:
  Set a variable in /path/to/.overcast/variables.json.

Examples:
  $ overcast var set AWS_KEY myawskey12345
  $ overcast var set MY_CUSTOM_VARIABLE_NAME foo
</code></pre>

<h3>
<a id="user-content-overcast-var-get" class="anchor" href="#overcast-var-get" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast var get</h3>

<pre><code>Usage:
  overcast var get [name]

Description:
  Get a variable from /path/to/.overcast/variables.json.

Examples:
  $ overcast var get AWS_KEY
  &gt; myawskey12345

  $ overcast var get MY_CUSTOM_VARIABLE_NAME
  &gt; foo
</code></pre>

<h3>
<a id="user-content-overcast-var-delete" class="anchor" href="#overcast-var-delete" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast var delete</h3>

<pre><code>Usage:
  overcast var delete [name]

Description:
  Delete a variable from /path/to/.overcast/variables.json.

Examples:
  $ overcast var delete MY_CUSTOM_VARIABLE_NAME
</code></pre>

<h3>
<a id="user-content-overcast-virtualbox" class="anchor" href="#overcast-virtualbox" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast virtualbox</h3>

<pre><code>  These commands require Vagrant to be installed on your local machine.
  See http://www.vagrantup.com/downloads, or install on OS X using homebrew-cask:
    $ brew tap caskroom/cask
    $ brew install brew-cask
    $ brew cask install vagrant

  overcast virtualbox create [name] [options...]
    Creates a new local Virtualbox instance using Vagrant.

    If --ip is not specified, the next available IP after 192.168.22.10 will
    be automatically assigned. User is root by default. Vagrant files are stored
    in the ~/.overcast-vagrant directory. Image names "trusty64" (Ubuntu 14.04)
    and "precise64" (Ubuntu 12.04) are downloaded automatically from Ubuntu
    servers the first time they are used.

    Other image names will need to be added using:
    $ vagrant box add --name [name] [image-url]

      Option                   | Default
      --cluster CLUSTER        | default
      --image NAME             | trusty64
      --ram MB                 | 512
      --cpus COUNT             | 1
      --ip ADDRESS             | 192.168.22.10
      --ssh-key KEY_PATH       | overcast.key
      --ssh-pub-key KEY_PATH   | overcast.key.pub

    Examples:
    $ overcast virtualbox create local.vm.01
    $ overcast virtualbox create local.vm.02 --ram 1024 --image precise64

  overcast virtualbox destroy [name]
    Destroys a virtualbox instance.

      Option                   | Default
      --force                  | false

    Example:
    $ overcast virtualbox destroy local.01

  overcast virtualbox reboot [name]
    Reboots a virtualbox instance.

    Example:
    $ overcast virtualbox reboot local.01

  overcast virtualbox start [name]
    Starts a virtualbox instance.

    Example:
    $ overcast virtualbox start local.01

  overcast virtualbox stop [name]
    Stop a virtualbox instance.

    Example:
    $ overcast virtualbox stop local.01
</code></pre>

<h3>
<a id="user-content-overcast-wait" class="anchor" href="#overcast-wait" aria-hidden="true"><span class="octicon octicon-link"></span></a>overcast wait</h3>

<pre><code>Usage:
  overcast wait [seconds]

Description:
  Show a progress bar for a specified number of seconds.

Examples:
  $ overcast wait 30
</code></pre>

<h2>
<a id="user-content-running-the-tests" class="anchor" href="#running-the-tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running the Tests</h2>

<p><a href="https://travis-ci.org/andrewchilds/overcast"><img src="https://camo.githubusercontent.com/f779007e740c407c8aaf18b9d253aa4047d9e5e9/68747470733a2f2f7472617669732d63692e6f72672f616e647265776368696c64732f6f766572636173742e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/andrewchilds/overcast.svg?branch=master" style="max-width:100%;"></a></p>

<div class="highlight highlight-sh"><pre>git clone https://github.com/andrewchilds/overcast.git
<span class="pl-s3">cd</span> overcast
npm <span class="pl-s3">test</span></pre></div>

<h2>
<a id="user-content-upgrading-overcast" class="anchor" href="#upgrading-overcast" aria-hidden="true"><span class="octicon octicon-link"></span></a>Upgrading Overcast</h2>

<div class="highlight highlight-sh"><pre>npm -g update overcast</pre></div>

<p>Configuration files are left alone during an upgrade.</p>

<h2>
<a id="user-content-contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h2>

<p>Contributions are welcome. If you've got an idea for a feature or found a bug, please <a href="https://github.com/andrewchilds/overcast/issues">open an issue</a>. If you're a developer and want to help improve Overcast, <a href="https://github.com/andrewchilds/overcast/pulls">open a pull request</a> with your changes.</p>

<h2>
<a id="user-content-roadmap" class="anchor" href="#roadmap" aria-hidden="true"><span class="octicon octicon-link"></span></a>Roadmap</h2>

<ul class="task-list">
<li>Tagging</li>
<li>Events</li>
<li>Google Compute Engine support</li>
<li>
<a href="https://github.com/pkgcloud/pkgcloud#compute">pkgcloud.compute</a> integration (for Joyent, Openstack, Rackspace support)</li>
<li>More comprehensive script/recipe library</li>
<li>More test coverage</li>
</ul>

<h2>
<a id="user-content-license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>MIT. Copyright © 2014 <a href="http://twitter.com/andrewchilds">Andrew Childs</a>.</p>

<!-- End README -->

      </section>
      <footer>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-2103966-3");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
